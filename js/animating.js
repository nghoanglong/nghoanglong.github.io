var PageTransitions=function(h){"use strict";var f=h(".animated-sections"),u=!1,v=!0,b=!1,k=(h(window),{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")]),F=Modernizr.cssanimations;function i(a){if(a){var e=h(a);e=e[0],(e=h(e))&&(h("ul.main-menu a").removeClass("active"),e.addClass("active"))}}function n(){var e=h("#page-ajax-loaded");function t(){e.removeClass("animated-section-moveToRight closed"),e.show(),h("body").addClass("ajax-page-visible")}var o=h(".ajax-page-load").each(function(){if(o=h(this).attr("href"),location.hash==location.hash.split("/")[0]+"/"+o.substr(0,o.length-5)){var a=h(this).attr("href");return t(),e.load(a),!1}});h(document).on("click",".main-menu, #ajax-page-close-button",function(a){a.preventDefault(),h("#page-ajax-loaded").addClass("animated-section-moveToRight closed"),h("body").removeClass("ajax-page-visible"),setTimeout(function(){h("#page-ajax-loaded.closed").html(""),e.hide()},500),location.hash=location.hash.split("/")[0]}).on("click",".ajax-page-load",function(){var a=location.hash.split("/")[0]+"/"+h(this).attr("href").substr(0,h(this).attr("href").length-5);return location.hash=a,t(),!1})}function s(a,e){if(!a.attr("data-animation")){var t=parseInt(Math.floor(67*Math.random())+1);a.data("animation",t)}var o,i,n,s=a.data("animation").toString();if(-1!=s.indexOf("-")){var c=s.split("-");n=parseInt(c[Math.floor(Math.random()*c.length)])}else n=parseInt(s);if(67<n)alert("Transition.js : Invalid 'data-animation' attribute configuration. Animation number should not be greater than 67");else{switch(n){case 1:o="animated-section-moveFromRight",i="animated-section-moveToLeft";break;case 2:o="animated-section-moveFromLeft",i="animated-section-moveToRight";break;case 3:o="animated-section-moveFromBottom",i="animated-section-moveToTop";break;case 4:o="animated-section-moveFromTop",i="animated-section-moveToBottom";break;case 5:o="animated-section-moveFromRight animated-section-ontop",i="animated-section-fade";break;case 6:o="animated-section-moveFromLeft animated-section-ontop",i="animated-section-fade";break;case 7:o="animated-section-moveFromBottom animated-section-ontop",i="animated-section-fade";break;case 8:o="animated-section-moveFromTop animated-section-ontop",i="animated-section-fade";break;case 9:o="animated-section-moveFromRightFade",i="animated-section-moveToLeftFade";break;case 10:o="animated-section-moveFromLeftFade",i="animated-section-moveToRightFade";break;case 11:o="animated-section-moveFromBottomFade",i="animated-section-moveToTopFade";break;case 12:o="animated-section-moveFromTopFade",i="animated-section-moveToBottomFade";break;case 13:o="animated-section-moveFromRight",i="animated-section-moveToLeftEasing animated-section-ontop";break;case 14:o="animated-section-moveFromLeft",i="animated-section-moveToRightEasing animated-section-ontop";break;case 15:o="animated-section-moveFromBottom",i="animated-section-moveToTopEasing animated-section-ontop";break;case 16:o="animated-section-moveFromTop",i="animated-section-moveToBottomEasing animated-section-ontop";break;case 17:o="animated-section-moveFromRight animated-section-ontop",i="animated-section-scaleDown";break;case 18:o="animated-section-moveFromLeft animated-section-ontop",i="animated-section-scaleDown";break;case 19:o="animated-section-moveFromBottom animated-section-ontop",i="animated-section-scaleDown";break;case 20:o="animated-section-moveFromTop animated-section-ontop",i="animated-section-scaleDown";break;case 21:o="animated-section-scaleUpDown animated-section-delay300",i="animated-section-scaleDown";break;case 22:o="animated-section-scaleUp animated-section-delay300",i="animated-section-scaleDownUp";break;case 23:o="animated-section-scaleUp",i="animated-section-moveToLeft animated-section-ontop";break;case 24:o="animated-section-scaleUp",i="animated-section-moveToRight animated-section-ontop";break;case 25:o="animated-section-scaleUp",i="animated-section-moveToTop animated-section-ontop";break;case 26:o="animated-section-scaleUp",i="animated-section-moveToBottom animated-section-ontop";break;case 27:o="animated-section-scaleUpCenter animated-section-delay400",i="animated-section-scaleDownCenter";break;case 28:o="animated-section-moveFromRight animated-section-delay200 animated-section-ontop",i="animated-section-rotateRightSideFirst";break;case 29:o="animated-section-moveFromLeft animated-section-delay200 animated-section-ontop",i="animated-section-rotateLeftSideFirst";break;case 30:o="animated-section-moveFromTop animated-section-delay200 animated-section-ontop",i="animated-section-rotateTopSideFirst";break;case 31:o="animated-section-moveFromBottom animated-section-delay200 animated-section-ontop",i="animated-section-rotateBottomSideFirst";break;case 32:o="animated-section-flipInLeft animated-section-delay500",i="animated-section-flipOutRight";break;case 33:o="animated-section-flipInRight animated-section-delay500",i="animated-section-flipOutLeft";break;case 34:o="animated-section-flipInBottom animated-section-delay500",i="animated-section-flipOutTop";break;case 35:o="animated-section-flipInTop animated-section-delay500",i="animated-section-flipOutBottom";break;case 36:o="animated-section-scaleUp",i="animated-section-rotateFall animated-section-ontop";break;case 37:o="animated-section-rotateInNewspaper animated-section-delay500",i="animated-section-rotateOutNewspaper";break;case 38:o="animated-section-moveFromRight",i="animated-section-rotatePushLeft";break;case 39:o="animated-section-moveFromLeft",i="animated-section-rotatePushRight";break;case 40:o="animated-section-moveFromBottom",i="animated-section-rotatePushTop";break;case 41:o="animated-section-moveFromTop",i="animated-section-rotatePushBottom";break;case 42:o="animated-section-rotatePullRight animated-section-delay180",i="animated-section-rotatePushLeft";break;case 43:o="animated-section-rotatePullLeft animated-section-delay180",i="animated-section-rotatePushRight";break;case 44:o="animated-section-rotatePullBottom animated-section-delay180",i="animated-section-rotatePushTop";break;case 45:o="animated-section-rotatePullTop animated-section-delay180",i="animated-section-rotatePushBottom";break;case 46:o="animated-section-moveFromRightFade",i="animated-section-rotateFoldLeft";break;case 47:o="animated-section-moveFromLeftFade",i="animated-section-rotateFoldRight";break;case 48:o="animated-section-moveFromBottomFade",i="animated-section-rotateFoldTop";break;case 49:o="animated-section-moveFromTopFade",i="animated-section-rotateFoldBottom";break;case 50:o="animated-section-rotateUnfoldLeft",i="animated-section-moveToRightFade";break;case 51:o="animated-section-rotateUnfoldRight",i="animated-section-moveToLeftFade";break;case 52:o="animated-section-rotateUnfoldTop",i="animated-section-moveToBottomFade";break;case 53:o="animated-section-rotateUnfoldBottom",i="animated-section-moveToTopFade";break;case 54:o="animated-section-rotateRoomLeftIn",i="animated-section-rotateRoomLeftOut animated-section-ontop";break;case 55:o="animated-section-rotateRoomRightIn",i="animated-section-rotateRoomRightOut animated-section-ontop";break;case 56:o="animated-section-rotateRoomTopIn",i="animated-section-rotateRoomTopOut animated-section-ontop";break;case 57:o="animated-section-rotateRoomBottomIn",i="animated-section-rotateRoomBottomOut animated-section-ontop";break;case 58:o="animated-section-rotateCubeLeftIn",i="animated-section-rotateCubeLeftOut animated-section-ontop";break;case 59:o="animated-section-rotateCubeRightIn",i="animated-section-rotateCubeRightOut animated-section-ontop";break;case 60:o="animated-section-rotateCubeTopIn",i="animated-section-rotateCubeTopOut animated-section-ontop";break;case 61:o="animated-section-rotateCubeBottomIn",i="animated-section-rotateCubeBottomOut animated-section-ontop";break;case 62:o="animated-section-rotateCarouselLeftIn",i="animated-section-rotateCarouselLeftOut animated-section-ontop";break;case 63:o="animated-section-rotateCarouselRightIn",i="animated-section-rotateCarouselRightOut animated-section-ontop";break;case 64:o="animated-section-rotateCarouselTopIn",i="animated-section-rotateCarouselTopOut animated-section-ontop";break;case 65:o="animated-section-rotateCarouselBottomIn",i="animated-section-rotateCarouselBottomOut animated-section-ontop";break;case 66:o="animated-section-rotateSidesIn animated-section-delay200",i="animated-section-rotateSidesOut";break;case 67:o="animated-section-rotateSlideIn",i="animated-section-rotateSlideOut"}var m,d=f,r=d.data("current"),l=(e=a.attr("href").split("#")[1],h('section[data-id="'+(m=r)+'"]'));if(m!=(r=e)){u=!0,d.data("current",r);var p=h("section[data-id="+r+"]").addClass("section-active");p.scrollTop(0),l.addClass(i).on(k,function(){l.off(k),v=!0,b&&(g(d,p,l),v=!1)}),p.addClass(o).on(k,function(){p.off(k),b=!0,v&&(g(d,p,l),u=b=!1)})}else u=!1;F||g(l,p)}}function g(a,e,t){var o,i;o=e,(i=t).attr("class",i.data("originalClassList")),o.attr("class",o.data("originalClassList")+" section-active")}return{init:function(a){h(".animated-section").each(function(){var a=h(this);a.data("originalClassList",a.attr("class"))}),f.each(function(){""===location.hash&&h("section[data-id="+e+"]").addClass("section-active")}),h(".nav-anim").on("click",function(a){if(a.preventDefault(),u)return!1;var e=h(this);i(e),s(e),location.hash=h(this).attr("href")}),window.onhashchange=function(a){if(location.hash){if(u)return!1;var e=h(t+' a[href*="'+location.hash.split("/")[0]+'"]');i(e),s(e),n()}};var t=a.menu,e=""===location.hash?location.hash=h("section.animated-section").first().attr("data-id"):location.hash;location.hash=e;var o=h(t+' a[href*="'+location.hash.split("/")[0]+'"]');i(o),s(o),h("body").append('<div id="page-ajax-loaded" class="page-ajax-loaded animated animated-section-moveFromLeft"></div>'),n(),h(".lmpixels-arrow-right").click(function(){var a=h(".main-menu a.active").parent("li");a.next("li").children("a").click(),a.is(":last-child")&&h(".main-menu li:first-child").children("a").click()}),h(".lmpixels-arrow-left").click(function(){var a=h(".main-menu a.active").parent("li");a.prev("li").children("a").click(),a.is(":first-child")&&h(".main-menu li:last-child").children("a").click()})}}}(jQuery);